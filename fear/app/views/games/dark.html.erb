<script>
	var eyes =[];
	var eyePosition = [
		[500,100,0.5],
		[600,320,0.5],
		[944,400,0.5],
		[100,350,0.5],
		[350,200,0.5],
		[800,150,0.5]

	]

	var bossSpeed = 3;

	var darkGame = new Phaser.Game(1205 - 50 ,581 -50, Phaser.Canvas,'',{preload: preload, create: create, update: update})

	function preload(){
		darkGame.load.image('monster', './images/yellow-eye.png');
		darkGame.load.image('boss', './images/boss.png');
		darkGame.load.image('fireball', './images/red_ball.png');
		
	}

	function create(){
		darkGame.canvas.id = 'small-space'
		darkGame.stage.backgroundColor = '#222';


		// add background eyes
		for(var i=0; i<eyePosition.length; i++){
			var yellowEye = darkGame.add.sprite(eyePosition[i][0],eyePosition[i][1] ,'monster');
			yellowEye.anchor.setTo(eyePosition[i][2],eyePosition[i][2]);
			yellowEye.scale.setTo(eyePosition[i][2],eyePosition[i][2]);
			yellowEye.alpha = 0;
			darkGame.add.tween(yellowEye).to({alpha:1}, 5000,Phaser.Easing.Linear.None, true,0,8000,true);
		}

		bossy = darkGame.add.group();
		bossy.enableBody = true;

		boss = bossy.create(Math.floor(Math.random()*600),100,'boss');
		boss.scale.setTo(0.65,0.65);
		darkGame.physics.arcade.enable(boss);
		boss.body.collideWorldBounds = true;


		//adding keyboard code to move boss
		upKey = darkGame.input.keyboard.addKey(Phaser.Keyboard.UP);
    downKey = darkGame.input.keyboard.addKey(Phaser.Keyboard.DOWN);
    leftKey = darkGame.input.keyboard.addKey(Phaser.Keyboard.LEFT);
    rightKey = darkGame.input.keyboard.addKey(Phaser.Keyboard.RIGHT);
    spaceBar = darkGame.input.keyboard.addKey(Phaser.Keyboard.SPACEBAR)

  	lasers = darkGame.add.group();
  	lasers.enableBody = true;

    laserEye = function(size,xVelocity, yVelocity){
    	var laser_array = ['fireball','fireball','fireball','fireball','fireball','fireball',
    	'fireball'];
    	random_laser = laser_array[Math.floor(laser_array.length * Math.random())];
    	laser = lasers.create(boss.x + 100, boss.y + 120,random_laser);
    	
    	darkGame.physics.arcade.enable(laser);
    	
    	laser.body.immovable = true;
    	laser.scale.setTo(size,size);
    	laser.body.velocity.x = xVelocity;
    	laser.body.velocity.y = yVelocity;


    	return laser;
    }

    laserEye2 = function(size,xVelocity, yVelocity){
    		var laser_array = ['fireball','fireball','fireball','fireball','fireball','fireball',
    	'fireball'];
    	random_laser = laser_array[Math.floor(laser_array.length * Math.random())];

    	laser = lasers.create(boss.x + 215, boss.y + 120,random_laser);
 
    	darkGame.physics.arcade.enable(laser);
    	laser.body.immovable = true;
    	laser.scale.setTo(size,size);
    	laser.body.velocity.x = xVelocity;
    	laser.body.velocity.y = yVelocity;
    	return laser;
    }
    setTimeout(function(){
    	darkGame.add.tween(boss).to({ x: darkGame.world.width - 400}, 4000, Phaser.Easing.Quadratic.InOut, true, 0, 3000, true);
    }, 2000)

	}

  
	
	function update(){
			
		if (upKey.isDown){
			boss.y-= bossSpeed;
		}else if(downKey.isDown){
			boss.y+= bossSpeed;
		} 
		if (leftKey.isDown){
			boss.x-= bossSpeed;
		}else if (rightKey.isDown){
			boss.x+= bossSpeed;
		}


		if(spaceBar.isDown){
			laserEye(0.5,-800, 800);
			laserEye2(0.5,-600, 600); 
		}

		// if(spaceBar.isDown && boss.x >= darkGame.world.width){
		// 	laserEye(0.5,800, -800);
		// 	laserEye2(0.5,600, -600); 
		// }

		// if(spaceBar.isDown){
			
		// 	console.log('right eye')
		// }

		// setInterval(function(){

		// 	laserEye(0.5,-800, 800);
		// 	laserEye2(0.5,-600, 600) ;
		// }, 2000)
	}

		

	


</script>